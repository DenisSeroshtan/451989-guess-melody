{"version":3,"file":"game-artist-view.js","sources":["js/view.js","js/game/game-artist-view.js"],"sourcesContent":["export default class AbstractView {\n\n  get template() {\n    throw new Error(`View should be defined`);\n  }\n\n  get element() {\n    if (!this._element) {\n      this.create();\n    }\n\n    return this._element;\n  }\n\n  render() {\n    return this.createElement(this.template);\n  }\n\n  bind() {\n\n  }\n\n  create() {\n    this._element = this.render();\n    this.bind();\n  }\n\n  createElement(template) {\n    const outer = document.createElement(`template`);\n    outer.innerHTML = template;\n    return outer.content;\n  }\n\n  show() {\n    const mainScreen = document.querySelector(`.main`);\n    mainScreen.innerHTML = ``;\n    mainScreen.appendChild(this.element);\n  }\n}\n","import AbstractView from '../view.js';\n\nexport default class GameArtistView extends AbstractView {\n  constructor(question) {\n    super();\n\n    this._question = question;\n  }\n\n  get template() {\n    return `<section class=\"main main--level main--level-artist\">\n      <div class=\"main-wrap\">\n        <div class=\"main-timer\"></div>\n  \n        <h2 class=\"title main-title\">Кто исполняет эту песню?</h2>\n        <div class=\"player-wrapper\"></div>\n        <form class=\"main-list\">\n          ${Array.prototype.slice.call(this._question.answers, 0).map((answer, index) =>\n            this.createAnswer(index, answer)\n          )}\n        </form>\n      </div>\n    </section>`;\n  }\n\n  createAnswer(index, answer) {\n    return `<div class=\"main-answer-wrapper\">\n      <input class=\"main-answer-r\" type=\"radio\" id=\"answer-${index}\" name=\"answer\" value=\"${index}\" />\n      <label class=\"main-answer\" for=\"answer-1\">\n        <img class=\"main-answer-preview\" src=\"${answer.image}\">\n        ${answer.artistName}\n      </label> \n    </div>`;\n  }\n\n  onAnswer(...indexes) {\n\n  }\n\n  bind() {\n    const screenDom = this.element;\n    const answers = Array.prototype.slice.call(screenDom.querySelectorAll(`.main-answer-wrapper`), 0);\n    const player = screenDom.querySelector(`.player-wrapper`);\n\n    const artistSong = this._question.data;\n    window.initializePlayer(player, artistSong.file, true, true);\n\n    for (let answer of answers) {\n      answer.addEventListener(`click`, (event) => {\n        event.preventDefault();\n\n        const wrapperElement = event.currentTarget;\n        const index = wrapperElement.querySelector(`.main-answer-r`).value;\n        this.onAnswer(index);\n      });\n    }\n  }\n\n\n}\n"],"names":["AbstractView","createElement","template","_element","render","bind","outer","document","innerHTML","content","mainScreen","querySelector","appendChild","element","Error","create","GameArtistView","question","_question","index","answer","image","artistName","screenDom","answers","Array","prototype","slice","call","querySelectorAll","player","artistSong","data","initializePlayer","file","addEventListener","event","preventDefault","wrapperElement","currentTarget","value","onAnswer","map","createAnswer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA;;;;;;;6BAcV;aACA,KAAKC,aAAL,CAAmB,KAAKC,QAAxB,CAAP;;;;2BAGK;;;6BAIE;WACFC,QAAL,GAAgB,KAAKC,MAAL,EAAhB;WACKC,IAAL;;;;kCAGYH,UAAU;UAChBI,QAAQC,SAASN,aAAT,YAAd;YACMO,SAAN,GAAkBN,QAAlB;aACOI,MAAMG,OAAb;;;;2BAGK;UACCC,aAAaH,SAASI,aAAT,SAAnB;iBACWH,SAAX;iBACWI,WAAX,CAAuB,KAAKC,OAA5B;;;;2BAlCa;YACP,IAAIC,KAAJ,0BAAN;;;;2BAGY;UACR,CAAC,KAAKX,QAAV,EAAoB;aACbY,MAAL;;;aAGK,KAAKZ,QAAZ;;;;;;ICTiBa;;;0BACPC,QAAZ,EAAsB;;;;;UAGfC,SAAL,GAAiBD,QAAjB;;;;;;iCAmBWE,OAAOC,QAAQ;gHAE+BD,KADzD,+BACwFA,KADxF,8GAG4CC,OAAOC,KAHnD,oBAIMD,OAAOE,UAJb;;;;+BASmB;;;2BAId;;;UACCC,YAAY,KAAKV,OAAvB;UACMW,UAAUC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BL,UAAUM,gBAAV,wBAA3B,EAA+E,CAA/E,CAAhB;UACMC,SAASP,UAAUZ,aAAV,mBAAf;;UAEMoB,aAAa,KAAKb,SAAL,CAAec,IAAlC;aACOC,gBAAP,CAAwBH,MAAxB,EAAgCC,WAAWG,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD;;;;;;;6BAEmBV,OAAnB,8HAA4B;cAAnBJ,MAAmB;;iBACnBe,gBAAP,UAAiC,UAACC,KAAD,EAAW;kBACpCC,cAAN;;gBAEMC,iBAAiBF,MAAMG,aAA7B;gBACMpB,QAAQmB,eAAe3B,aAAf,mBAA+C6B,KAA7D;mBACKC,QAAL,CAActB,KAAd;WALF;;;;;;;;;;;;;;;;;;;2BAvCW;;;oZAQLM,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2B,KAAKV,SAAL,CAAeM,OAA1C,EAAmD,CAAnD,EAAsDkB,GAAtD,CAA0D,UAACtB,MAAD,EAASD,KAAT;eAC1D,OAAKwB,YAAL,CAAkBxB,KAAlB,EAAyBC,MAAzB,CAD0D;OAA1D,CAPR;;;;EARwCpB;;;;"}